[importlinter]
root_package = exegesis

[importlinter:contract:layered_architecture]
name = Domain-Application-Infrastructure layering
type = layers
layers =
    exegesis.infrastructure
    exegesis.application
    exegesis.domain

[importlinter:contract:domain_cannot_import_api]
name = Domain layer must be unaware of API adapters
type = forbidden
source_modules =
    exegesis.domain
forbidden_modules =
    exegesis.infrastructure.api

[importlinter:contract:application_cannot_import_api]
name = Application layer must be unaware of API adapters
type = forbidden
source_modules =
    exegesis.application
forbidden_modules =
    exegesis.infrastructure.api
